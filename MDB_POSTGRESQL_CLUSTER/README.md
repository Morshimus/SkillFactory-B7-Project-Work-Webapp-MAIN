# MDB_POSTGRESQL_CLUSTER

<!-- BEGINNING OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.3.5 |
| <a name="requirement_yandex"></a> [yandex](#requirement\_yandex) | ~> 0.84.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_yandex"></a> [yandex](#provider\_yandex) | ~> 0.84.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [yandex_mdb_postgresql_cluster.morsh_pg_cluster](https://registry.terraform.io/providers/yandex-cloud/yandex/latest/docs/resources/mdb_postgresql_cluster) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_cloud_id"></a> [cloud\_id](#input\_cloud\_id) | n/a | `string` | `"b1gm80drf2f2dk70jc3f"` | no |
| <a name="input_creation_zone_yandex"></a> [creation\_zone\_yandex](#input\_creation\_zone\_yandex) | n/a | `string` | n/a | yes |
| <a name="input_disk_size"></a> [disk\_size](#input\_disk\_size) | Disk size of pg cluster host in GB | `number` | `16` | no |
| <a name="input_disk_type"></a> [disk\_type](#input\_disk\_type) | Type of disk of host in pg cluster | `string` | `"network-ssd"` | no |
| <a name="input_environment"></a> [environment](#input\_environment) | Mark for cluster user. Possible valuse PRESTABLE/PRODUCTION | `string` | `"PRESTABLE"` | no |
| <a name="input_folder_id"></a> [folder\_id](#input\_folder\_id) | n/a | `string` | `"b1g16ac5if9cnssnhfip"` | no |
| <a name="input_maintenance_day"></a> [maintenance\_day](#input\_maintenance\_day) | Day of the week (in DDD format). <br>  Allowed values: "MON", "TUE", "WED", "THU", "FRI", "SAT", "SUN" | `string` | `"SAT"` | no |
| <a name="input_maintenance_hour"></a> [maintenance\_hour](#input\_maintenance\_hour) | Hour of the day in UTC (in HH format). <br>  Allowed value is between 1 and 24. | `number` | `12` | no |
| <a name="input_maintenance_type"></a> [maintenance\_type](#input\_maintenance\_type) | Type of maintenance window. Can be either ANYTIME or WEEKLY. <br>  A day and hour of window need to be specified with weekly window. | `string` | `"WEEKLY"` | no |
| <a name="input_name"></a> [name](#input\_name) | Name of cluster. | `string` | `"morsh-pg-cluster"` | no |
| <a name="input_network_id"></a> [network\_id](#input\_network\_id) | Id of created yc network | `string` | n/a | yes |
| <a name="input_pg_version"></a> [pg\_version](#input\_pg\_version) | Version of the PostgreSQL cluster. <br>  (allowed versions are: 10, 10-1c, 11, 11-1c, 12, 12-1c, 13, 13-1c, 14, 14-1c,**15**) | `number` | `15` | no |
| <a name="input_postgresql_conf_autovacuum_vacuum_scale_factor"></a> [postgresql\_conf\_autovacuum\_vacuum\_scale\_factor](#input\_postgresql\_conf\_autovacuum\_vacuum\_scale\_factor) | Number of tuple updates or deletes prior to vacuum as a fraction of reltuples. | `number` | `0.34` | no |
| <a name="input_postgresql_conf_default_transaction_isolation"></a> [postgresql\_conf\_default\_transaction\_isolation](#input\_postgresql\_conf\_default\_transaction\_isolation) | Sets the transaction isolation level of each new transaction. | `string` | `"TRANSACTION_ISOLATION_READ_COMMITTED"` | no |
| <a name="input_postgresql_conf_max_conn"></a> [postgresql\_conf\_max\_conn](#input\_postgresql\_conf\_max\_conn) | Sets the maximum number of concurrent connections. | `number` | `395` | no |
| <a name="input_postgresql_conf_parallel_hash"></a> [postgresql\_conf\_parallel\_hash](#input\_postgresql\_conf\_parallel\_hash) | Enables or disables the query planner's use of hash-join plan types with parallel hash. <br>  Has no effect if hash-join plans are not also enabled. The default is true. | `bool` | `true` | no |
| <a name="input_postgresql_conf_shared_preload_libraries"></a> [postgresql\_conf\_shared\_preload\_libraries](#input\_postgresql\_conf\_shared\_preload\_libraries) | Lists shared libraries to preload into server.<br>  **Allowed values:** <br>  SHARED\_PRELOAD\_LIBRARIES\_AUTO\_EXPLAIN, <br>  SHARED\_PRELOAD\_LIBRARIES\_PGAUDIT, <br>  SHARED\_PRELOAD\_LIBRARIES\_PG\_CRON, <br>  SHARED\_PRELOAD\_LIBRARIES\_PG\_PREWARM, <br>  SHARED\_PRELOAD\_LIBRARIES\_PG\_QUALSTATS, <br>  SHARED\_PRELOAD\_LIBRARIES\_TIMESCALEDB | `string` | `"SHARED_PRELOAD_LIBRARIES_AUTO_EXPLAIN"` | no |
| <a name="input_preset"></a> [preset](#input\_preset) | **In Yandex Cloud there are exist diferrent presets.**<br> +-------------+--------------------------------+-------+----------+<br> \|     ID      \|            ZONE IDS            \| CORES \|  MEMORY  \|<br> +-------------+--------------------------------+-------+----------+<br> \| b2.nano     \| ru-central1-a, ru-central1-b,  \|     2 \| 2.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| b2.micro    \| ru-central1-a, ru-central1-b,  \|     2 \| 2.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| b2.medium   \| ru-central1-a, ru-central1-b,  \|     2 \| 4.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| b1.nano     \| ru-central1-a, ru-central1-b,  \|     2 \| 2.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| b1.micro    \| ru-central1-a, ru-central1-b,  \|     2 \| 2.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| b1.medium   \| ru-central1-a, ru-central1-b,  \|     2 \| 4.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c2-m4    \| ru-central1-a, ru-central1-b,  \|     2 \| 4.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c4-m8    \| ru-central1-a, ru-central1-b,  \|     4 \| 8.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c8-m16   \| ru-central1-a, ru-central1-b,  \|     8 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c12-m24  \| ru-central1-a, ru-central1-b,  \|    12 \| 24.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c16-m32  \| ru-central1-a, ru-central1-b,  \|    16 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c24-m48  \| ru-central1-a, ru-central1-b,  \|    24 \| 48.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c32-m64  \| ru-central1-a, ru-central1-b,  \|    32 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c40-m80  \| ru-central1-a, ru-central1-b,  \|    40 \| 80.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c48-m96  \| ru-central1-a, ru-central1-b,  \|    48 \| 96.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c64-m128 \| ru-central1-a, ru-central1-b,  \|    64 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c80-m160 \| ru-central1-a, ru-central1-b,  \|    80 \| 160.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| c3-c96-m192 \| ru-central1-a, ru-central1-b,  \|    96 \| 192.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c2-m16   \| ru-central1-a, ru-central1-b,  \|     2 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c4-m32   \| ru-central1-a, ru-central1-b,  \|     4 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c6-m48   \| ru-central1-a, ru-central1-b,  \|     6 \| 48.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c8-m64   \| ru-central1-a, ru-central1-b,  \|     8 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c12-m96  \| ru-central1-a, ru-central1-b,  \|    12 \| 96.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c16-m128 \| ru-central1-a, ru-central1-b,  \|    16 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c24-m192 \| ru-central1-a, ru-central1-b   \|    24 \| 192.0 GB \|<br> \| m3-c32-m256 \| ru-central1-a, ru-central1-b   \|    32 \| 256.0 GB \|<br> \| m3-c40-m320 \| ru-central1-a, ru-central1-b,  \|    40 \| 320.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m3-c48-m384 \| ru-central1-a, ru-central1-b   \|    48 \| 384.0 GB \|<br> \| m3-c56-m448 \| ru-central1-a, ru-central1-b   \|    56 \| 448.0 GB \|<br> \| m3-c64-m512 \| ru-central1-a, ru-central1-b   \|    64 \| 512.0 GB \|<br> \| m3-c80-m640 \| ru-central1-a, ru-central1-b   \|    80 \| 640.0 GB \|<br> \| m2.micro    \| ru-central1-a, ru-central1-b,  \|     2 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.small    \| ru-central1-a, ru-central1-b,  \|     4 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.medium   \| ru-central1-a, ru-central1-b,  \|     6 \| 48.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.large    \| ru-central1-a, ru-central1-b,  \|     8 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.xlarge   \| ru-central1-a, ru-central1-b,  \|    12 \| 96.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.2xlarge  \| ru-central1-a, ru-central1-b,  \|    16 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.3xlarge  \| ru-central1-a, ru-central1-b,  \|    24 \| 192.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.4xlarge  \| ru-central1-a, ru-central1-b,  \|    32 \| 256.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.5xlarge  \| ru-central1-a, ru-central1-b,  \|    40 \| 320.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.6xlarge  \| ru-central1-a, ru-central1-b,  \|    48 \| 384.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.7xlarge  \| ru-central1-a, ru-central1-b,  \|    56 \| 448.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| m2.8xlarge  \| ru-central1-a, ru-central1-b,  \|    64 \| 512.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c2-m8    \| ru-central1-a, ru-central1-b,  \|     2 \| 8.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c4-m16   \| ru-central1-a, ru-central1-b,  \|     4 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c8-m32   \| ru-central1-a, ru-central1-b,  \|     8 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c12-m48  \| ru-central1-a, ru-central1-b,  \|    12 \| 48.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c16-m64  \| ru-central1-a, ru-central1-b,  \|    16 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c24-m96  \| ru-central1-a, ru-central1-b,  \|    24 \| 96.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c32-m128 \| ru-central1-a, ru-central1-b,  \|    32 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c40-m160 \| ru-central1-a, ru-central1-b,  \|    40 \| 160.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c48-m192 \| ru-central1-a, ru-central1-b,  \|    48 \| 192.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c64-m256 \| ru-central1-a, ru-central1-b,  \|    64 \| 256.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c80-m320 \| ru-central1-a, ru-central1-b,  \|    80 \| 320.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s3-c96-m576 \| ru-central1-a, ru-central1-b   \|    96 \| 576.0 GB \|<br> \| s2.micro    \| ru-central1-a, ru-central1-b,  \|     2 \| 8.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.small    \| ru-central1-a, ru-central1-b,  \|     4 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.medium   \| ru-central1-a, ru-central1-b,  \|     8 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.large    \| ru-central1-a, ru-central1-b,  \|    12 \| 48.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.xlarge   \| ru-central1-a, ru-central1-b,  \|    16 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.2xlarge  \| ru-central1-a, ru-central1-b,  \|    24 \| 96.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.3xlarge  \| ru-central1-a, ru-central1-b,  \|    32 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.4xlarge  \| ru-central1-a, ru-central1-b,  \|    40 \| 160.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.5xlarge  \| ru-central1-a, ru-central1-b,  \|    48 \| 192.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s2.6xlarge  \| ru-central1-a, ru-central1-b,  \|    64 \| 256.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s1.micro    \| ru-central1-a, ru-central1-b,  \|     2 \| 8.0 GB   \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s1.small    \| ru-central1-a, ru-central1-b,  \|     4 \| 16.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s1.medium   \| ru-central1-a, ru-central1-b,  \|     8 \| 32.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s1.large    \| ru-central1-a, ru-central1-b,  \|    16 \| 64.0 GB  \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> \| s1.xlarge   \| ru-central1-a, ru-central1-b,  \|    32 \| 128.0 GB \|<br> \|             \| ru-central1-c                  \|       \|          \|<br> +-------------+--------------------------------+-------+----------+ | `string` | `"s2.micro"` | no |
| <a name="input_sec_group"></a> [sec\_group](#input\_sec\_group) | Security Group for Inbound/Oubound Access to PGSQL cluster | `list(string)` | n/a | yes |
| <a name="input_service_account_key"></a> [service\_account\_key](#input\_service\_account\_key) | n/a | `string` | `"./key.json"` | no |
| <a name="input_vpc_subnet_id"></a> [vpc\_subnet\_id](#input\_vpc\_subnet\_id) | n/a | `string` | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_morsh_fqdn_master_pg_cluster"></a> [morsh\_fqdn\_master\_pg\_cluster](#output\_morsh\_fqdn\_master\_pg\_cluster) | n/a |
| <a name="output_morsh_yc_id_pg_cluster"></a> [morsh\_yc\_id\_pg\_cluster](#output\_morsh\_yc\_id\_pg\_cluster) | n/a |
<!-- END OF PRE-COMMIT-TERRAFORM DOCS HOOK -->
